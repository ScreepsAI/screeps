#RoomManager - 房间管理器

房间管理器是用来进行房间规划的

room的统计属性搜集，room动态规划的执行。

## 统计属性

一个房间的发展取决于

`roomLevel`				房间等级



安排房间升级应该是一个持续不间断的过程，但有时需要考虑几乎暂停这个过程，

`process`				房间进阶当前数值

`progressTotal`			房间进阶目标数值



能量是一切目标的基础，通过判断当前能量的存量可以动态的调整其他事项

`energy`					房间能量总储量

`energyCapacity`			房间能量最大总储量



应该采取何种防御手段取决于防御等级和收到的威胁等级

`defendLevel`			防御等级

`threatLevel`			威胁等级



敌对单位是无法维护的，只能不停的遍历查询

`hostileCreep`			房间敌对单位

`hostileStructure`		房间敌对设施



## 动态规划

一个房间由几个小状态综合得出一个具体的决策方案。每个小状态对应各自不同的具体落实。

状态的判断则通过房间的统计属性来计算。

### 状态

1. 能量状态 - energyStatus		房间内维持能量水平的措施
   1. 重启状态，极少量的能量存量水平
   2. 一般阶段，持续存储能量
   3. 满额状态，存量接近全满90%
2. 建设状态 - buildStatus			房间内不同用途设施的建设水平
   1. 尚未开始基础建设，也可能是全部被破坏了
   2. 已经开始基础建设，但还没有结束
   3. 完成基础建设，正在进行防御设施建设
   4. 已经完成防御建设


3. 防御状态 - defendStatus		当前应对入侵采取的措施
   1. 完全放弃防御
   2. 被动防御，只使用tower进行攻击
   3. 主动防御，建造creep进行防御

一个房间简单的分为三大状态，暂不考虑征服和扩张的情况

```
roomStatus = energyStatus + buildStatus + defendStatus
```



### 基础建设

|      | spawn | extension | tower | storage | terminal | extractor | nuker | observer |
| ---- | ----- | --------- | ----- | ------- | -------- | --------- | ----- | -------- |
| 1    |       |           |       |         |          |           |       |          |
| 2    |       | 5         |       |         |          |           |       |          |
| 3    |       | 5         | 1     |         |          |           |       |          |
| 4    |       | 10        |       | 1       |          |           |       |          |
| 5    |       | 10        | 1     |         |          |           |       |          |
| 6    |       | 10        |       |         | 1        | 1         |       |          |
| 7    | 1     | 10        | 1     |         |          |           |       |          |
| 8    | 1     | 10        | 3     |         |          |           | 1     | 1        |



