# Policy - 决策

> ### 约定
>
> 房间等级的策略由`overview`（综合评价）决定：
>
> **该方式暂且采用10进制基数，将来可以考虑采用16进制，甚至36进制（0-9a-z）**
>
> 设有N种Level参数，则`综合评价`的计算方法如下：
>
> `overview` = `RoomLevel` * 10^N +`DefendLevel` * 10^(N - 1) + `EnergyLevel` * 10^(N - 2) + `BuildLevel` * 10^(N - 3) + ...
>
> 其中每个`xxxLevel`最多可分为10个等级，参数描述的角度不可重复。
>
> 计算顺序：最左侧的`xxxLevel`最先计算得值用于第二个Level计算得值，再给第三个，以此类推。越左侧的参数越基础越重要，右侧参数基于左侧参数进行进一步计算。**每个Level代表的决策范畴不重复。**



`overview`		综合评价。值越大代表的策略等级越高，执行的决策行为应该就越多越复杂。

`RoomLevel`		房间等级。房间等级作为游戏规则的一部分，必须将其考虑在内并且贯穿于前期的整个决策过				

​				程中。

`DefendLevel`	防御等级。表示了当前防御能力和面临威胁的情况。例如在没有防御设施却受到入侵时，相对

​				计算之后`DefendLevel`就会为9，而如果没有威胁，则防御等级就是0。

`EnergyLevel`	能量等级。能量的积累是任何其他想法的基础，该值代表该房间积累能量的水平。其中包括目

​				前可以建造但为建造的extension等设施的容量。

`BuildLevel`		建筑等级。表示当前的建设水平。每个`RoomLevel`都会有新解锁的设施种类或数量，将所有可

​				以建造的设施都建造完毕后，该值会变为0。其中不包括`Road`，`Wall`和`Rampart`等辅助设	

​				施。

`OtherLevel`		随着游戏的推进可能会将一个Level分裂成多个或者添加其他有意义的Level，以更加精确的控

​				制策略的执行。

## Level

Level是一个决策分支，每个分支都有一个基数等级，目前是10，最高可为36。

Level的计算用于得到最后的`overview`，再根据`overview`进行执行相应的决策

>### 示例
>
>如：`overview` = `RoomLevel` * 10^N +`DefendLevel` * 10^(N - 1) + `EnergyLevel` * 10^(N - 2) + `BuildLevel` * 10^(N - 3)；
>
>则：
>
>`RoomLevel`为room.controller.level。
>
>`DefendLevel`使用`RoomLevel`设定在其未达到4级时不建造防御设施（不包括塔），即防御等级0。
>
>`EnergyLevel` 计算出当前可存储的能量上限，并比较当前存量，得出能量存量级别。
>
>`BuildLevel`计算出当前基础设施建设的完成度水平，例如：
>
>|      | spawn | extension | tower | storage | terminal | extractor | nuker | observer | powerSpawn |
>| ---- | ----- | --------- | ----- | ------- | -------- | --------- | ----- | -------- | ---------- |
>| 1    |       |           |       |         |          |           |       |          |            |
>| 2    |       | 5         |       |         |          |           |       |          |            |
>| 3    |       | 5         | 1     |         |          |           |       |          |            |
>| 4    |       | 10        |       | 1       |          |           |       |          |            |
>| 5    |       | 10        | 1     |         |          |           |       |          |            |
>| 6    |       | 10        |       |         | 1        | 1         |       |          |            |
>| 7    | 1     | 10        | 1     |         |          |           |       |          |            |
>| 8    | 1     | 10        | 3     |         |          |           | 1     | 1        | 1          |
>
>上表显示了每一级的基础建设任务，随着不断地建造，`BuildLevel`会从9逐渐将为0，该值表示对建设的需求程度，0表示不再需要。其中是否需要考虑lab和link暂不讨论。

